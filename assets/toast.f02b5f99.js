import{G as E}from"./index.dd908f82.js";const T="https://jsonplaceholder.typicode.com",h="Content-Type",p="application/json";async function l({mimeType:r=p,defaultHeaders:n={[h]:p},service:t,method:s,uri:c="",body:i,queryString:o=""}){const a={code:418,ok:!1};let u=null;try{const e=await fetch(c?`${T}/${t}/${c}${o}`:`${T}/${t}`,{method:s,body:n[h]==="application/json"?JSON.stringify(i):i,headers:["POST","PUT","PATCH","DELETE"].includes(s)&&i!=null?n:{}});a.code=e.status,a.ok=e.ok,e.headers.get(h).split(";")[0]===r&&(u=await e.json().catch(()=>null)),u!=null||(u={message:e.message})}catch{}return{status:a,payload:u}}var m={exports:{}};(function(r,n){n=r.exports=t,n.getSerialize=s;function t(c,i,o,a){return JSON.stringify(c,s(i,a),o)}function s(c,i){var o=[],a=[];return i==null&&(i=function(u,e){return o[0]===e?"[Circular ~]":"[Circular ~."+a.slice(0,o.indexOf(e)).join(".")+"]"}),function(u,e){if(o.length>0){var f=o.indexOf(this);~f?o.splice(f+1):o.push(this),~f?a.splice(f,1/0,u):a.push(u),~o.indexOf(e)&&(e=i.call(this,u,e))}else o.push(e);return c==null?e:c.call(this,u,e)}}})(m,m.exports);const P=(r={})=>{const n=new URLSearchParams;return Object.entries(r).forEach(([t,s])=>{Array.isArray(s)?s.forEach(c=>{n.append(t,c)}):s&&n.append(t,s)}),n.toString()},$=Array.from({length:26},(r,n)=>`image${n%5+1}`);function y(r,n=3){const t=Math.floor(r.length/n)-1,s=t+1,c=t,i=r.slice(0,t),o=r.slice(t,t+s),a=r.slice(t+s,t+s+c);return[i,o,a]}class A{static async GET({service:n,id:t=null,query:s={}}){const c=t?`${t}?${P(s)}`:`?${P(s)}`;return l({service:n,method:"GET",uri:c})}static async POST({service:n,body:t=null}){return l({service:n,method:"POST",body:t})}static async DELETE({service:n,id:t,body:s=null}){return l({service:n,method:"DELETE",uri:t,body:s})}static async PATCH({service:n,id:t,body:s}){return l({service:n,method:"PATCH",uri:t,body:s})}static async PUT({service:n,id:t=null,body:s=null}){return l({service:n,method:"PUT",uri:t,...s&&{body:s}})}}const d=5e3,S=3e3,g=E(),C=r=>g.success(r,{timeout:S}),L=r=>g.error(r,{timeout:d}),j={serverError:"Server error",postDeleted:"Post deleted",postChanging:"Post edited successfully"};export{A as B,j as T,C as a,$ as m,y as s,L as t};
