import{J as P}from"./index.e25179ca.js";const h="https://jsonplaceholder.typicode.com",T="Content-Type",p="application/json";async function l({mimeType:c=p,defaultHeaders:s={[T]:p},service:r,method:t,uri:o="",body:a,queryString:e=""}){const u={code:418,ok:!1};let i=null;try{const n=await fetch(o?`${h}/${r}/${o}${e}`:`${h}/${r}`,{method:t,body:s[T]==="application/json"?JSON.stringify(a):a,headers:["POST","PUT","PATCH","DELETE"].includes(t)&&a!=null?s:{}});u.code=n.status,u.ok=n.ok,n.headers.get(T).split(";")[0]===c&&(i=await n.json().catch(()=>null)),i!=null||(i={message:n.message})}catch{}return{status:u,payload:i}}var E={exports:{}};(function(c,s){s=c.exports=r,s.getSerialize=t;function r(o,a,e,u){return JSON.stringify(o,t(a,u),e)}function t(o,a){var e=[],u=[];return a==null&&(a=function(i,n){return e[0]===n?"[Circular ~]":"[Circular ~."+u.slice(0,e.indexOf(n)).join(".")+"]"}),function(i,n){if(e.length>0){var f=e.indexOf(this);~f?e.splice(f+1):e.push(this),~f?u.splice(f,1/0,i):u.push(i),~e.indexOf(n)&&(n=a.call(this,i,n))}else e.push(n);return o==null?n:o.call(this,i,n)}}})(E,E.exports);const m=(c={})=>{const s=new URLSearchParams;return Object.entries(c).forEach(([r,t])=>{Array.isArray(t)?t.forEach(o=>{s.append(r,o)}):t&&s.append(r,t)}),s.toString()};class O{static async GET({service:s,id:r=null,query:t={}}){const o=r?`${r}?${m(t)}`:`?${m(t)}`;return l({service:s,method:"GET",uri:o})}static async POST({service:s,body:r=null}){return l({service:s,method:"POST",body:r})}static async DELETE({service:s,id:r,body:t=null}){return l({service:s,method:"DELETE",uri:r,body:t})}static async PATCH({service:s,id:r,body:t}){return l({service:s,method:"PATCH",uri:r,body:t})}static async PUT({service:s,id:r=null,body:t=null}){return l({service:s,method:"PUT",uri:r,...t&&{body:t}})}}const g=5e3,S=3e3,d=P(),C=c=>d.success(c,{timeout:S}),$=c=>d.error(c,{timeout:g}),j={serverError:"Server error",postDeleted:"Post deleted",postChanging:"Post edited successfully"};export{O as B,j as T,C as a,$ as t};
